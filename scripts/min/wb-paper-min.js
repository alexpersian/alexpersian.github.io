var $WBPAPER=window.onload=function(){paper.setup($WBAPP.canvas);var e={},a,n,r=new paper.Tool,o=paper.view.center;e.drawing=!0;var t={fill:!0,item:!0};return e.drawBackground=function(){var e=new paper.Rectangle(new paper.Point(0,0),new paper.Point($WBAPP.width,$WBAPP.height)),a=new paper.Path.Rectangle(e);a.fillColor=$WBAPP.bgColor,paper.view.update()},e.drawBackground(),r.onMouseDown=function(r){var o=paper.project.hitTest(r.point,t);o&&(console.log(o),n=o.item),e.drawing&&(a=new paper.Path({strokeColor:$WBAPP.penColor,strokeWidth:$WBAPP.penStroke,strokeCap:"round"}),a.add(r.point))},r.onMouseDrag=function(r){n&&!e.drawing&&(n.position+=r.delta),e.drawing&&a.add(r.point)},r.onMouseUp=function(r){!$WBAPP.erasing&&e.drawing&&a.simplify(),n=null},e.drawShape=function(a){if(!e.drawing)switch(a){case"Start/End":console.log(a);var n=new paper.Rectangle([0,0],[200,60]);n.center=o;var r=new paper.Path.Rectangle(n,30);r.fillColor="#F7D4C9";break;case"Input/Output":console.log(a);var n=new paper.Rectangle([0,0],[200,60]);n.center=o;var r=new paper.Path.Rectangle(n,30);r.fillColor="#FEE9BC";break;case"Process":console.log(a);var n=new paper.Rectangle([0,0],[200,60]);n.center=o;var r=new paper.Path.Rectangle(n,30);r.fillColor="#D2C3D4";break;case"Decision":console.log(a);var n=new paper.Rectangle([0,0],[200,60]);n.center=o;var r=new paper.Path.Rectangle(n,30);r.fillColor="#BDE1F0"}},e}();