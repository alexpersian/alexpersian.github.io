var $WBAPP=function(){var e={};e.canvas=document.getElementById("myCanvas"),e.width=window.innerWidth,e.height=.95*window.innerHeight,e.canvas.width=e.width,e.canvas.height=e.height,e.penColor="black",e.bgColor="white",e.penStroke=3,e.eraseStroke=50;var n,a;e.shape="Start/End",e.night=!1,document.addEventListener("touchmove",function(e){e.preventDefault()},!1),e.erasing=!1,e.erase=function(){e.erasing!==!1?(e.penColor=n,e.penStroke=a,document.getElementById("erase").innerHTML='<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Eraser OFF',e.erasing=!1):(n=e.penColor,a=e.penStroke,e.penColor=e.bgColor,e.penStroke=e.eraseStroke,document.getElementById("erase").innerHTML='<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Eraser ON',e.erasing=!0)},e.getDate=function(){var e=new Date,n=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),o=e.getHours(),t=e.getMinutes(),i=e.getSeconds();return n+"-"+a+"-"+r+"_"+o+":"+t+":"+i};var r=document.getElementById("btn-save");return r.addEventListener("click",function(n){r.download=e.getDate(),r.href=e.canvas.toDataURL("image/svg")}),e.changeColor=function(n){if(e.erasing===!0&&e.erase(),e.night)switch(n){case"black":e.penColor="#495F66";break;case"red":e.penColor="#dc322f";break;case"blue":e.penColor="#268bd2";break;case"green":e.penColor="#859900"}else e.penColor=n},e.changePenWidth=function(n){e.penStroke=n,document.getElementById("penDisplay").innerHTML="Pen Width: "+n+' <span class="caret"></span>'},e.changeEraserWidth=function(n){e.eraseStroke=n,1==e.erasing&&(e.penStroke=e.eraseStroke),document.getElementById("eraseDisplay").innerHTML="Eraser Width: "+n+' <span class="caret"></span>'},$(window).bind("beforeunload",function(){return"Save your drawing before reloading!"}),e.changeShape=function(n){e.shape=n,document.getElementById("shapeChoice").innerHTML=n+' <span class="caret"></span>'},$("#createShape").click(function(){$WBPAPER.drawing=!1,$WBPAPER.drawShape(e.shape)}),e.nightTheme=function(){if(e.night){switch(document.getElementById("night").innerHTML='Night Theme <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>',e.bgColor="#ffffff",e.penColor){case"#495F66":e.penColor="black";break;case"#dc322f":e.penColor="red";break;case"#268bd2":e.penColor="blue";break;case"#859900":e.penColor="green"}e.night=!1}else{switch(document.getElementById("night").innerHTML='Night Theme <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>',e.bgColor="#01191F",e.penColor){case"black":e.penColor="#495F66";break;case"red":e.penColor="#dc322f";break;case"blue":e.penColor="#268bd2";break;case"green":e.penColor="#859900"}e.night=!0}$WBPAPER.drawBackground(),console.log(e.bgColor)},e.clear=function(){e.bgColor=e.night?"#01191F":"#ffffff",$WBPAPER.drawBackground(),console.log(e.bgColor)},e}($WBAPP=$WBAPP||{});